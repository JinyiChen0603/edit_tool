# 数学题目编辑器 - Web 版本

## 📋 功能特点

✅ **搜索功能** - 支持按题目ID、标题、内容搜索  
✅ **在线编辑** - 浏览器中直接编辑题目、解答、答案  
✅ **局域网访问** - 同一局域网内的任何设备都可以访问  
✅ **实时保存** - 点击保存或按 Ctrl+S 即时保存  
✅ **友好界面** - 现代化的 Web 界面设计  

## 🚀 快速开始

### 1. 安装 Flask

```bash
pip install flask
```

### 2. 启动服务器

```bash
python web_editor.py
```

启动后会看到类似以下输出：

```
============================================================
数学题目编辑器已启动！
============================================================
本地访问地址: http://localhost:5000
局域网访问: 请在其他设备上使用你的局域网IP访问
获取IP地址: 在命令行运行 ipconfig 查看 IPv4 地址
例如: http://192.168.1.100:5000
============================================================
```

### 3. 访问编辑器

#### 本机访问
在浏览器中打开：`http://localhost:5000`

#### 局域网内其他设备访问

1. 获取你的局域网IP地址：
   ```bash
   ipconfig
   ```
   
2. 找到 **IPv4 地址**（例如：192.168.1.100）

3. 在同一局域网内的其他设备（手机、平板、其他电脑）上打开浏览器，输入：
   ```
   http://192.168.1.100:5000
   ```
   （将 192.168.1.100 替换为你实际的IP地址）

## 🔧 常见问题

### 问题1：局域网内其他设备无法访问

**解决方案：** 配置 Windows 防火墙

1. 打开 **Windows 防火墙**
2. 点击 **高级设置**
3. 选择 **入站规则** → **新建规则**
4. 选择 **端口** → 下一步
5. 选择 **TCP**，输入端口 **5000** → 下一步
6. 选择 **允许连接** → 下一步
7. 勾选所有网络类型 → 下一步
8. 输入名称（如：Flask Editor）→ 完成

### 问题2：如何修改端口

编辑 `web_editor.py` 最后一行：

```python
app.run(host='0.0.0.0', port=5000, debug=True)
```

将 `5000` 改为你想要的端口号。

### 问题3：如何停止服务器

在运行 `web_editor.py` 的命令行窗口中按 `Ctrl+C`

## 📱 支持的设备

- ✅ Windows/Mac/Linux 电脑
- ✅ Android 手机和平板
- ✅ iPhone 和 iPad
- ✅ 任何有浏览器的设备

## 🔒 安全提示

- 此编辑器仅在局域网内使用，不要暴露到公网
- 如果需要外网访问，请使用 VPN 或 ngrok 等安全方案
- 建议定期备份 `maths` 文件夹中的题目文件

## 📂 文件结构

```
D:\edit_tool\
├── web_editor.py          # Flask 后端服务器
├── editor.py              # 桌面版编辑器（可选）
├── templates\
│   └── index.html         # Web 前端页面
└── maths\
    ├── q_213.md
    ├── q_214.md
    └── ...                # 所有题目文件
```

## ⌨️ 快捷键

- `Ctrl+S` - 保存当前编辑的题目

## 🎨 界面说明

- **左侧栏** - 题目列表和搜索框
- **右侧栏** - 题目编辑区域
  - 元数据（ID、标题、题型等）
  - 题目内容
  - 解答过程
  - 最终答案

## 💡 使用技巧

1. **搜索功能**：输入任何关键词即可实时过滤题目列表
2. **保存提醒**：修改后记得保存，会有成功提示
3. **多设备协作**：局域网内多人可同时访问（但不建议同时编辑同一题）
4. **手机使用**：在手机浏览器中同样可以编辑，适合外出时快速修改

---

如有问题，请检查：
1. Flask 是否正确安装
2. 防火墙是否允许端口 5000
3. 所有设备是否在同一局域网内

