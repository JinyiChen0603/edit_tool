---
id: 308
title: Discrete Geometry in a Rectangular Lattice
question_type: 数学
domain: 高中数学竞赛组合
difficulty: 中学
knowledge_point: 格点线段平移计数
batch: 01_第一批100题
teacher: zhuyoupeng
---

## 题目
(Problem)Topic: Discrete Geometry in a Rectangular Lattice Problem Statement:Consider a discrete rectangular lattice region $\Lambda = \{(x, y, z) \mid 1 \le x \le 9, \ 1 \le y \le 10, \ 1 \le z \le 12, \ x,y,z \in \mathbb{Z}\}$.A line segment is defined as a "Saturated Space Diagonal" if it satisfies all the following conditions:It contains exactly 7 lattice points from $\Lambda$.Its direction vector $\vec{d} = (d_1, d_2, d_3)$ satisfies $|d_1| = |d_2| = |d_3| = 1$.It is maximal, meaning it cannot be extended within $\Lambda$ in either the positive or negative direction of $\vec{d}$ to include more lattice points.Find the total number of such "Saturated Space Diagonals" in $\Lambda$.

## 解答
Solution1. Geometric Characteristics and Step AnalysisDirections: $|d_i|=1$ implies that these are space diagonal directions. There are 4 main classes of such directions (e.g., $(1,1,1), (-1,1,1)$, etc.). We only need to calculate the number for one direction (e.g., $\vec{d}=(1,1,1)$) and then multiply by 4.Steps: Containing exactly 7 points means the line segment spans 6 unit steps. Let the starting point be $P_0(x, y, z)$ and the ending point be $P_6(x+6, y+6, z+6)$.2. Calculation for a Single Direction $\vec{d} = (1, 1, 1)$We need to find the number of starting points $(x,y,z)$ that satisfy the conditions.Basic Range Constraints: To ensure the endpoint remains within the grid ($x+6 \le 9, y+6 \le 10, z+6 \le 12$), the starting point must satisfy:$$x \in [1, 3], \quad y \in [1, 4], \quad z \in [1, 6]$$The total number of possible starting points is $S_{total} = 3 \times 4 \times 6 = 72$.Maximality Constraint (Boundary Conditions): "Non-extendable" means both ends of the segment must hit the boundaries:(A) Non-extendable Backward: $P_{-1}$ is out of bounds $\iff \min(x, y, z) = 1$.(B) Non-extendable Forward: $P_7$ is out of bounds $\iff$ the endpoint coordinates reach the upper limit $\iff \max(x+6, y+6, z+6)$ reaches the maximum for each respective dimension. For the starting point, this means at least one coordinate must make the endpoint "reach the limit," i.e., $x=3, y=4$, or $z=6$.Calculation using the Principle of Inclusion-Exclusion:Valid Number = Total - (Not satisfying A) - (Not satisfying B) + (Satisfying neither A nor B).Not satisfying A (Min > 1): i.e., $x \ge 2, y \ge 2, z \ge 2$. The effective range is reduced to $x \in [2,3], y \in [2,4], z \in [2,6]$. Each dimension length decreases by 1: $(3-1) \times (4-1) \times (6-1) = 2 \times 3 \times 5 = 30$.Not satisfying B (Max < Limit): i.e., $x \le 2, y \le 3, z \le 5$. The effective range is reduced to $x \in [1,2], y \in [1,3], z \in [1,5]$. Each dimension length decreases by 1: $2 \times 3 \times 5 = 30$.Satisfying neither A nor B (Intersection): i.e., $x \in [2,2], y \in [2,3], z \in [2,5]$. Each dimension length decreases by 2: $(3-2) \times (4-2) \times (6-2) = 1 \times 2 \times 4 = 8$.Valid Number for a Single Direction: $N = 72 - 30 - 30 + 8 = 20$.3. Final CalculationThere are 4 independent space diagonal directions.$$Total = 20 \times 4 = 80$$

## 答案
80
