---
id: 266
title: Parity-Shadowed Backbone Maintenance
question_type: æ•°å­¦
domain: é«˜ä¸­æ•°å­¦ç«èµ›ç»„åˆ
difficulty: ä¸­å­¦
knowledge_point: Graph modeling & connectivity preservation under deletion of edges incident to a fixed vertex.
Handshake lemma (number of odd-degree vertices is even).
batch: 01_ç¬¬ä¸€æ‰¹100é¢˜
teacher: xieshuhong
---

## é¢˜ç›®
A research federation operates a resilient backbone modeled as an undirected simple graph $G$. One distinguished vertex is the Core $C$. There are exactly $2010$ designated laboratories $L_1,L_2,\dots,L_{2010}$. The graph may contain additional vertices representing relays or subcontractors.
The backbone is required to satisfy:

- Mandatory uplinks. For every $i \in \{1,\dots,2010\}$, the edge $(C,L_i)$ is present.

- Local cap on laboratories. For every laboratory $L_i$, its degree in the entire graph satisfies
$$
\deg(L_i) < 2010.
$$

- Parity-shadow consistency. If two distinct vertices $u\neq v$ in $G$ have equal degree, then this common degree must be even; i.e.
if $\deg(u)=\deg(v)$, then $\deg(u)$ is even.

A scheduled maintenance window requires disabling some uplinks incident to the Core $C$. The operator is allowed to choose which uplinks to disable after the full network $G$ is known.
Determine the largest integer $k$ such that for every graph $G$ satisfying conditions (1)â€“(3), there always exists a set of exactly $k$ edges among $\{(C,L_1),(C,L_2),\dots,(C,L_{2010})\}$ whose removal leaves the resulting graph connected (equivalently, every vertex remains reachable from $C$).

## è§£ç­”
ğŸ§­ Problem restatement (in graph terms)
Let $G$ be a connected undirected simple graph. One vertex is the Core $C$. There are $2010$ designated labs $(L_1,\dots,L_{2010})$, and all uplinks $CL_i$ are present.
Constraints:

Mandatory uplinks: $CL_i \in E(G)$ for all $i$.
Lab degree cap: $\deg(L_i)<2010$ for all $i$.
Parity-shadow: if $\deg(u)=\deg(v)$ for $u\neq v$, then that common degree is even.
Equivalently, no odd degree value can occur on two different vertices.

We may delete exactly $k$ edges from the set $\{CL_1,\dots,CL_{2010}\}$ (choosing which ones after seeing $G$), and we want the remaining graph to stay connected. Find the largest such $k$.

ğŸ” Key lemma copied from the original solution
Remove the core $C$ and consider the graph
$$
G' = G - \{C\}.
$$
Let $\mathcal{K}$ be any connected component of $G'$. Lemma (same as the Chinese proof)
If $\mathcal{K}$ contains exactly one vertex adjacent to $C$ (i.e., only one edge from $C$ enters $\mathcal{K}$), then $\mathcal{K}$ contains a vertex of odd degree in $G$.
Reason (same logic):
Let $x$ be the unique vertex of $\mathcal{K}$ adjacent to $C$. Inside the component $\mathcal{K}$, the number of odd-degree vertices is even (Handshake Lemma).

If $\deg_{\mathcal{K}}(x)$ is even, then $\deg_G(x)=\deg_{\mathcal{K}}(x)+1$ is odd.
If $\deg_{\mathcal{K}}(x)$ is odd, then (since odd-degree vertices in $\mathcal{K}$ are even in number) there is another vertex $y\neq x$ with $\deg_{\mathcal{K}}(y)$ odd, and $\deg_G(y)=\deg_{\mathcal{K}}(y)$ is odd.

So in either case, a component tethered to $C$ by exactly one edge forces an odd-degree vertex in $G$. âˆ
Consequence:
Let $s$ be the number of components of $G'$ that are connected to $C$ by exactly one edge. Then
$$
s \le \#\{\text{odd-degree vertices in }G\}.
$$

ğŸ§® Bounding the number of odd-degree vertices (same counting step)
By the parity-shadow condition, odd degrees cannot repeat across distinct vertices.
Because each lab satisfies $\deg(L_i)<2010$, any odd degree appearing on a lab must be one of
$$
1,3,5,\dots,2009,
$$
which gives at most $1005$ possible odd values.
Also, in any graph, the number of odd-degree vertices is even. Therefore the maximum possible number of odd-degree vertices is
$$
1004.
$$
So we have the same bound as in the original solution:
$$
\#\text{odd-degree vertices in }G\le 1004,
\quad\text{hence}\quad s\le 1004.
$$

ğŸ”§ How many uplinks can always be deleted? (deriving 503)
Now look at the components of $G'$:

If a component has at least two edges from $C$ into it, we can delete at least one such edge while keeping that component still connected to $C$.
If a component has exactly one edge from $C$ into it, we cannot delete that edge.

Let the numbers of components with exactly one uplink be $s$ and the remaining components be $t-s$. The $2010$ uplinks $\{CL_1,\dots,CL_{2010}\}$ are distributed among the components, with:

each of the $s$ â€œsingle-uplinkâ€ components consuming $1$ uplink,
each of the other $t-s$ components consuming at least $2$ uplinks.

Hence
$$
2010 \ge 1\cdot s + 2\cdot (t-s) = 2t - s.
$$
Rearranging gives
$$
t - s \ge \frac{2010 - s}{2}.
$$
But $t-s$ is exactly the number of components that have $\ge 2$ uplinks, and from each of those we can delete at least one uplink. Therefore we can always delete at least
$$
\frac{2010-s}{2}
$$
uplinks.
Using the worst-case bound ($s\le 1004$), we obtain the guaranteed minimum:
$$
\frac{2010-1004}{2}=503.
$$
So for every graph ($G$) satisfying the three conditions, there exists a choice of 503 uplinks ($CL_i$) whose removal leaves ($G$) connected. Thus
$$
k_{\max}\ge 503.
$$

ğŸ§± Why you canâ€™t guarantee 504 (matching the original construction idea)
The original Chinese solution continues by explicitly constructing a graph ($G$) where it is impossible to delete more than ($503$) uplinks from $C$ without disconnecting the graph.
The construction arranges ($G-\{C\}$) into components so that:

as many components as allowed are â€œsingle-uplinkâ€ (and each forces an odd-degree vertex, hitting the ($1004$) ceiling), and
the remaining uplinks are packed so that deleting ($504$) uplinks would necessarily remove the last remaining connection from at least one component to $C$.

This shows there exists a valid $G$ for which no deletion set of size ($504$) keeps the graph connected, hence
$$
k_{\max}\le 503.
$$

ğŸ’¡ Final answer
Combining the universal guarantee ($\ge 503$) with the tight construction ($\le 503$), we get:
$$
k_{\max}=503.
$$

## ç­”æ¡ˆ
$$503$$
