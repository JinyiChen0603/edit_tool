---
id: 276
title: 量子操作系统谜题
question_type: 数学组合
domain: 高中数学竞赛组合
difficulty: 大学
knowledge_point: 母函数, 二项式系数, 组合计数
batch: 01_第一批100题
teacher: kongyusu
---

## 题目
A quantum operating system needs to allocate exactly \textbf{2048 units} of memory using a set of fixed-size memory blocks.
    \item \textbf{Type-A Blocks:} Sizes are $2^1, 2^2, 2^3, \dots, 2^{10}$. For each size, there are \textbf{exactly 2} distinct blocks available.
    \item \textbf{Type-B Blocks:} There are \textbf{exactly 4} distinct blocks of size \textbf{1 unit} ($2^0$).
How many unique sets of blocks can the OS select such that their total size is exactly 2048 units?

## 解答
The generating function for this resource set is:
$$ G(x) = (1+x)^4 \cdot \prod_{k=1}^{10} (1+x^{2^k})^2 $$
Note that $\prod_{k=1}^{10} (1+x^{2^k}) = \frac{1-x^{2048}}{1-x^2}$. Squaring this gives:
$$ G(x) = (1+x)^4 \cdot \left( \frac{1-x^{2048}}{1-x^2} \right)^2 $$
We need the coefficient of $x^{2048}$. Let's simplify $G(x)$:
$$ G(x) = \frac{(1+x)^4}{(1-x^2)^2} (1-x^{2048})^2 $$
Since $(1-x^2)^2 = (1-x)^2(1+x)^2$, the function simplifies to:
$$ G(x) = \frac{(1+x)^2}{(1-x)^2} (1-2x^{2048} + x^{4096}) $$
Using the series expansion $(1-x)^{-2} = \sum_{n=0}^{\infty} (n+1)x^n$:
$$ G(x) = (1+2x+x^2) \left( \sum_{n=0}^{\infty} (n+1)x^n \right) (1-2x^{2048} + x^{4096}) $$
To find the coefficient of $x^{2048}$, we consider two parts from the product:
    \item \textbf{Part 1:} The coefficient of $x^{2048}$ in $(1+2x+x^2) \sum (n+1)x^n$:
    \begin{itemize}
        \item $1 \cdot (2048+1)x^{2048} = 2049x^{2048}$
        \item $2x \cdot (2047+1)x^{2047} = 4096x^{2048}$
        \item $x^2 \cdot (2046+1)x^{2046} = 2047x^{2048}$
    \end{itemize}
    Subtotal for the first part: $2049 + 4096 + 2047 = 8192$.
    \item \textbf{Part 2:} The interaction with the $-2x^{2048}$ term:
    We multiply the constant term ($n=0$) of the expansion by $-2x^{2048}$:
    \begin{itemize}
        \item $(1 \cdot 1) \cdot (-2x^{2048}) = -2x^{2048}$
    \end{itemize}
\end{enumerate}
Total coefficient for $x^{2048}$:
$$ 8192 - 2 = 8190 $$

## 答案
8190
