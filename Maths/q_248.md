---
id: 248
title: Diophantine equation
question_type: 数学
domain: 高中数学竞赛组合
difficulty: 中学
knowledge_point: 不定方程
batch: 01_第一批100题
teacher: gaokunyi
---

## 题目
\textbf{Advanced Modified Problem}

An automated manufacturing facility operates continuously for a total of
$560$ hours. There are $7$ machines, labeled $A_1,\dots,A_7$, divided into two groups:

\begin{itemize}
  \item Group A: $A_1,A_2,A_3,A_4$,
  \item Group B: $A_5,A_6,A_7$.
\end{itemize}

The following constraints apply:

\begin{enumerate}
  \item Exactly one machine is active at any moment.
  \item Each Group A machine operates for a positive multiple of $7$ hours,
        and each Group B machine operates for a positive multiple of $13$ hours.
  \item Each Group A machine operates for \emph{at least} $21$ hours, and each
        Group B machine operates for \emph{at least} $26$ hours.
  \item The total operating time of Group A machines exceeds that of Group B
        machines by \emph{at least} $56$ hours.
  \item No single machine may operate for more than $\tfrac{1}{3}$ of the total
        production cycle.
\end{enumerate}

Determine the number of distinct time allocation schemes, considering only the
total operating time assigned to each machine.


## 解答
\textbf{Solution}

Let the operating times of machines $A_1,\dots,A_7$ be $x_1,\dots,x_7$ hours.
The total-time condition is
\[
x_1+x_2+\cdots+x_7 = 560.
\]

From the divisibility and minimum constraints, write
\[
x_i = 7a_i \quad (1\le i\le 4), \qquad a_i \ge 3,
\]
\[
x_j = 13b_j \quad (5\le j\le 7), \qquad b_j \ge 2,
\]
where all variables are integers.

Substituting,
\[
7(a_1+a_2+a_3+a_4) + 13(b_5+b_6+b_7) = 560.
\]

Let
\[
m = a_1+a_2+a_3+a_4, \qquad n = b_5+b_6+b_7.
\]
Then
\[
7m + 13n = 560,
\quad m \ge 12,\ n \ge 6.
\]

Reducing modulo $7$, since $13 \equiv -1 \pmod{7}$ and $560 \equiv 0 \pmod{7}$,
\[
-n \equiv 0 \pmod{7}
\quad \Longrightarrow \quad
n \equiv 0 \pmod{7}.
\]
Let
\[
n = 7t, \quad t \ge 1.
\]
Substitution yields
\[
7m + 91t = 560
\quad \Longrightarrow \quad
m = 80 - 13t.
\]

The bounds $m \ge 12$ and $n \ge 6$ imply
\[
80 - 13t \ge 12 \Rightarrow t \le 5,
\qquad
7t \ge 6 \Rightarrow t \ge 1.
\]
Hence
\[
t = 1,2,3,4,5.
\]

\bigskip

\textbf{Imposing the Group-Difference Constraint}

We require
\[
7m - 13n \ge 56.
\]
Substituting $m=80-13t$ and $n=7t$,
\[
7(80-13t) - 13(7t) \ge 56
\]
\[
560 - 182t \ge 56
\quad \Longrightarrow \quad
t \le 2.
\]

Thus only
\[
(m,n) = (67,7),\ (54,14)
\]
are feasible.

\bigskip

\textbf{Upper-Bound Constraint}

Each machine may operate for at most $\tfrac{560}{3}$ hours.

For Group A:
\[
x_i = 7a_i \le \tfrac{560}{3}
\quad \Longrightarrow \quad
a_i \le 26.
\]

For Group B:
\[
x_j = 13b_j \le \tfrac{560}{3}
\quad \Longrightarrow \quad
b_j \le 14.
\]

This constraint is nontrivial and must be enforced by exclusion.

---

\textbf{Case 1:} $(m,n) = (67,7)$

Group B satisfies
\[
b_5+b_6+b_7 = 7,\quad b_j \ge 2.
\]
Setting $b_j'=b_j-2$,
\[
b_5'+b_6'+b_7' = 1,
\]
giving
\[
\binom{3}{2} = 3
\]
solutions, all satisfying $b_j \le 14$.

Group A satisfies
\[
a_1+a_2+a_3+a_4 = 67,\quad 3 \le a_i \le 26.
\]

Without the upper bound, the number of solutions is
\[
\binom{67-3\cdot4+4-1}{4-1} = \binom{54}{3} = 24804.
\]

We subtract solutions where some $a_i \ge 27$.

Let $a_i' = a_i - 27$.
Then
\[
a_1'+a_2'+a_3'+a_4' = 40,
\]
giving
\[
\binom{43}{3} = 12341
\]
solutions per violating variable.

No two variables can simultaneously exceed $26$, since
\[
27+27+3+3 > 67.
\]
Thus by inclusion–exclusion,
\[
24804 - 4\times12341 = 0.
\]

Hence \emph{no valid allocations} occur in this case.

---

\textbf{Case 2:} $(m,n) = (54,14)$

Group B:
\[
b_5+b_6+b_7 = 14,\quad 2 \le b_j \le 14.
\]
Setting $b_j'=b_j-2$,
\[
b_5'+b_6'+b_7' = 8,
\]
giving
\[
\binom{10}{2} = 45
\]
solutions; the upper bound is inactive.

Group A:
\[
a_1+a_2+a_3+a_4 = 54,\quad 3 \le a_i \le 26.
\]
Shift variables:
\[
a_i' = a_i - 3,
\quad
a_1'+a_2'+a_3'+a_4' = 42.
\]
Unrestricted solutions:
\[
\binom{45}{3} = 14840.
\]

Violations occur when $a_i \ge 27$, i.e. $a_i' \ge 24$.
Set $a_i'' = a_i' - 24$:
\[
a_1''+a_2'+a_3'+a_4' = 18,
\]
giving
\[
\binom{21}{3} = 1330
\]
solutions per variable.

No two variables can violate simultaneously.
Thus valid Group A allocations:
\[
14840 - 4\times1330 = 9530.
\]

Total schemes in this case:
\[
9530 \times 45 = 428850.
\]

---

\bigskip

\textbf{Final Answer}

The number of distinct valid time allocation schemes is
\[
\boxed{428850}.
\]


## 答案
428850
