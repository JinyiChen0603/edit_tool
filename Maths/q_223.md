---
id: 223
title: 格点上的热带共线性问题
question_type: 数学
domain: 高中数学竞赛组合
difficulty: 中学
knowledge_point: 格点几何, 热带几何, 组合计数
batch: 01_第一批100题
teacher: zhujinhong
---

## 题目
Problem: Tropical Collinearity on a Lattice

Definitions:
Let S be the set of integer points in a $3 \times 3$ grid:
$$ S = \{(x,y) \in \mathbb{Z}^2 \mid 0 \le x, y \le 2\} $$
(The set S contains exactly 9 points).

We select a set of three distinct points {A, B, C} from S, where the coordinates of the points are given by:
A = $(x_1, y_1)$, B = $(x_2, y_2)$, C = $(x_3, y_3)$

Define two "Tropical Potential Values", V1 and V2, based on the cyclic and anti-cyclic sums of the coordinates:
$$ V_1 = \max(x_1 + y_2, x_2 + y_3, x_3 + y_1) $$
$$ V_2 = \max(x_1 + y_3, x_3 + y_2, x_2 + y_1) $$

Question:
Determine the number of unordered subsets $\{A, B, C\} \subset S$ such that:
$$ V_1 = V_2 $$

## 解答
\textbf{Solution.}

Let $A=(x_1,y_1),\;B=(x_2,y_2),\;C=(x_3,y_3)$ be three distinct points in
\[
S=\{(x,y)\in\mathbb Z^2:0\le x,y\le 2\}.
\]
Define the six pairwise sums
\[
s_{ij}=x_i+y_j\qquad (i\ne j).
\]
Then the two tropical potential values in the problem are
\[
V_1=\max(s_{12},s_{23},s_{31}),\qquad 
V_2=\max(s_{13},s_{32},s_{21}).
\]
Thus the condition $V_1=V_2$ is equivalent to saying that the maximum value
\[
M:=\max_{i\ne j}(s_{ij})
\]
is attained by at least one of the three terms in $V_1$ and also by at least one
of the three terms in $V_2$.

Since $x_i,y_i\in\{0,1,2\}$, each $s_{ij}\in\{0,1,2,3,4\}$. For triples that
satisfy $V_1=V_2$, one checks (by a finite case analysis on which points can
produce the global maximum $M$ among the six off-diagonal sums) that necessarily
\[
M\in\{2,3,4\}.
\]
We now list all unordered triples $\{A,B,C\}\subset S$ with $V_1=V_2$, grouped by
the value of $M$ (equivalently, by the common value $V_1=V_2$). Each listed
triple can be verified directly by computing $V_1$ and $V_2$ from the defining
formulas; the case analysis shows there are no other possibilities.

\medskip

\textbf{(I) The case $V_1=V_2=2$ (5 triples).}
\[
\begin{aligned}
&\{(0,0),(0,1),(0,2)\},\quad
\{(0,0),(0,1),(1,2)\},\quad
\{(0,0),(1,0),(2,0)\},\\
&\{(0,0),(1,0),(2,1)\},\quad
\{(0,1),(1,0),(1,1)\}.
\end{aligned}
\]

\medskip

\textbf{(II) The case $V_1=V_2=3$ (11 triples).}
\[
\begin{aligned}
&\{(0,0),(1,1),(2,2)\},\quad
\{(0,1),(1,1),(2,0)\},\quad
\{(0,1),(1,1),(2,1)\},\\
&\{(0,1),(1,1),(2,2)\},\quad
\{(0,1),(2,0),(2,1)\},\quad
\{(0,2),(1,0),(1,1)\},\\
&\{(0,2),(1,0),(1,2)\},\quad
\{(0,2),(1,1),(1,2)\},\quad
\{(1,0),(1,1),(1,2)\},\\
&\{(1,0),(1,1),(2,2)\},\quad
\{(1,1),(2,0),(2,1)\}.
\end{aligned}
\]

\medskip

\textbf{(III) The case $V_1=V_2=4$ (10 triples).}
\[
\begin{aligned}
&\{(0,2),(1,2),(2,0)\},\quad
\{(0,2),(1,2),(2,1)\},\quad
\{(0,2),(1,2),(2,2)\},\\
&\{(0,2),(2,0),(2,1)\},\quad
\{(0,2),(2,0),(2,2)\},\quad
\{(0,2),(2,1),(2,2)\},\\
&\{(1,2),(2,0),(2,1)\},\quad
\{(1,2),(2,0),(2,2)\},\quad
\{(1,2),(2,1),(2,2)\},\\
&\{(2,0),(2,1),(2,2)\}.
\end{aligned}
\]

\medskip

Therefore the total number of unordered triples is
\[
5+11+10=26.
\]

\[
\boxed{26}
\]

## 答案
$$26$$
