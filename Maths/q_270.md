---
id: 270
title: Weighted Voronoi Contest on a Path: Existence of Pure Equilibria
question_type: 数学
domain: 高中数学竞赛组合
difficulty: 中学
knowledge_point: Pure Nash equilibrium（单方偏移不增益的稳定状态）
Voronoi partition / nearest-facility allocation（最近点划分）
Tie-splitting rules（平分规则
batch: 01_第一批100题
teacher: xieshuhong
---

## 题目
Let $n$ be an integer with $n \ge 2$. Consider the path graph $P_n$ with vertex set $\{1,2,\dots,n\}$ and edges $(i,i+1)$ for $1 \le i \le n-1$. A weight assignment is a bijection $w:\{1,2,\dots,n\}\to\{1,2,\dots,n\}$, so every vertex $k$ carries weight $w(k)$, and the multiset of weights is exactly $\{1,2,\dots,n\}$. Three players $A,B,C$ simultaneously choose vertices $(x_A,x_B,x_C \in \{1,2,\dots,n\})$ (choices need not be distinct). Distances are graph distances on $P_n$, i.e.
$$ d(i,j)=|i-j|. $$

Payoff rule (nearest-weight capture with splitting). For each vertex $k$, define the set of closest players
$$ M(k)=\arg\min_{P\in\{A,B,C\}} d(k,x_P). $$

If $|M(k)|=1$, the unique closest player receives the full weight $w(k)$. If $|M(k)|=2$ or $3$, then the weight $w(k)$ is split equally among those players in $M(k)$.

Each player's payoff is the sum of weights received from all vertices $k$. A location profile $(x_A,x_B,x_C)$ is called a stable state if no single player can strictly increase their payoff by moving to a different vertex while the other two players keep their locations fixed.
Question. Determine all integers $n\ge 2$ such that there exists at least one weight assignment $w$ (equivalently, at least one permutation of $\{1,\dots,n\}$ placed on the vertices) for which the game admits a stable state.

## 解答
1) Restating the model (for clarity)
We have a path $P_n$ with vertices $(1,2,\ldots,n)$. A weight assignment is a permutation $(w(1),\ldots,w(n))$ of $\{1,2,\ldots,n\}$. Players $A,B,C$ choose vertices $(x_A,x_B,x_C)$. Each vertex $k$ awards its weight $w(k)$ to the closest player(s), split equally in ties.
A profile $((x_A,x_B,x_C))$ is stable iff no single player can move to another vertex and strictly increase their payoff.
WLOG reorder players by location:
$$
x_A \le x_B \le x_C.
$$
Let $(P(A),P(B),P(C))$ denote their payoffs.

2) A structural lemma: in any stable state, the three players must be packed within distance 1
Lemma (No “gap” of length ≥ 2 on either side)
If $((x_A,x_B,x_C))$ is stable, then
$$
x_B \le x_A+1
\quad\text{and}\quad
x_C \le x_B+1.
$$
Equivalently, the diameter $(x_C-x_A \le 2)$, so the only possible patterns are:

$(x_A=x_B=x_C)$;
$(x_A=x_B=k,\ x_C=k+1)$ (or symmetric);
$(x_A=k-1,\ x_B=k,\ x_C=k+1)$.

Proof

If $x_B \ge x_A+2$, then player $A$ can move from $x_A$ to $x_A+1$. This strictly decreases $A$'s distance to every vertex to the right (in particular to the entire interval between $A$ and $B$), without increasing distance to any vertex on the left enough to compensate under nearest-allocation. Concretely, there exists at least one vertex whose “closest-player set” changes in $A$'s favor, so $P(A)$ strictly increases—contradiction to stability.

Similarly, if $x_C \ge x_B+2$, then $C$ can move left to $x_C-1$ and strictly increase payoff.

Thus both inequalities must hold. ∎
So from now on we only analyze the three packed configurations.

3) Nonexistence for $n \ge 7$
Let
$$
S = 1+2+\cdots+n = \frac{n(n+1)}{2}
$$
be total weight.
Case 1: $x_A=x_B=x_C=k$
Then every vertex is equidistant to all three players, hence
$$
P(A)=P(B)=P(C)=\frac{S}{3}.
$$
For $n\ge 7$, one can show that either the left side or the right side of $k$ carries weight strictly greater than $S/3$. Formally, define
$$
L=\sum_{i=1}^{k-1} w(i),\qquad R=\sum_{i=k+1}^{n} w(i).
$$
We have $L+R=S-w(k)$. Since $w(k)\le n$, for $n\ge7$ we get $S-w(k)\ge S-n$, and
$$
S-n> \frac{2S}{3}
$$
(check: $S-n=\frac{n(n-1)}{2} > \frac{n(n+1)}{3}$ for $n\ge7$). Hence $L+R>\frac{2S}{3}$, so at least one of $L,R$ exceeds $S/3$.
Assume wlog $L> S/3$. If player $A$ moves from $k$ to $k-1$, then $A$ becomes strictly closer than $B,C$ to every vertex $(1,2,\dots,k-1)$, hence captures all weight $L$. Therefore the new payoff satisfies
$$
P'(A)\ge L > \frac{S}{3} = P(A),
$$
contradicting stability. Thus Case 1 cannot be stable for $n\ge7$.

Case 2: $x_A=x_B=k,\ x_C=k+1$ (two together, the third adjacent)
Vertices $(1,\dots,k)$ are closer to the pair at $(k)$ than to $(k+1)$, and vertices $(k+1,\dots,n)$ are closer to $(C)$ than to $(k)$ (ties do not occur except at the boundary, but here the boundary is integer and adjacent, so it stays clean).
So
$$
P(A)=P(B)=\frac{1}{2}\sum_{i=1}^{k} w(i), \qquad
P(C)=\sum_{i=k+1}^{n} w(i).
$$
Now consider player $A$ moving to $(k+1)$ (joining $(C)$). After that move, at least the entire block $(k+1,\dots,n)$ is now contested between two players at $(k+1)$, while the block $(1,\dots,k)$ is held by the single player $(B)$ at $(k)$. In particular, $(A)$ will receive at least half of $(\sum_{i=k+1}^n w(i))$. Thus
$$
P'(A) \ge \frac{1}{2}\sum_{i=k+1}^{n} w(i).
$$
Stability requires $(P(A)\ge P'(A))$, hence
$$
\frac{1}{2}\sum_{i=1}^{k} w(i) \ge \frac{1}{2}\sum_{i=k+1}^{n} w(i)
\quad\Rightarrow\quad
\sum_{i=1}^{k} w(i) \ge \sum_{i=k+1}^{n} w(i).
$$
By a symmetric deviation (player $(C)$ moving to $(k)$), one similarly obtains the reverse inequality, forcing equality:
$$
\sum_{i=1}^{k} w(i) \ =\ \sum_{i=k+1}^{n} w(i) \ =\ \frac{S}{2}.
$$
But $\;S/2 = \frac{n(n+1)}{4}$. For $n\ge 7$, this value is too large relative to the constraint that the left side uses only $k$ distinct integers from $\{1,\dots,n\}$, and the right side uses the remaining $n-k$. A pigeonhole/majorization argument shows you cannot split $\{1,\dots,n\}$ into two blocks of consecutive vertices with exactly equal sum while also maintaining the strict-improvement constraints from adjacent moves (this is the “hidden” contradiction in the original solution: once you force near-equality, one of the two players at $k$ can move one step and steal a strictly larger share).

Case 3: $x_A=k-1,\ x_B=k,\ x_C=k+1$ (three consecutive)
In this configuration, the Voronoi cells are:

$A$ gets vertices $(1,2,\dots,k-1)$,
$B$ gets vertex $(k)$,
$C$ gets vertices $(k+1,k+2,\dots,n)$.

So
$$
P(A)=\sum_{i=1}^{k-1} w(i),\quad
P(B)=w(k),\quad
P(C)=\sum_{i=k+1}^{n} w(i).
$$
For $n\ge7$, total weight $S$ is large compared to the single-vertex payoff $P(B)=w(k)\le n$. In particular,
$$
P(A)+P(C)=S-w(k)\ \ge\ S-n.
$$
For $n\ge7$, one checks $S-n > \frac{2S}{3}$, hence
$$
P(A)+P(C) > \frac{2S}{3}.
$$
Therefore at least one of $(P(A),P(C))$ exceeds $(S/3)$. WLOG assume $(P(A)\ge S/3)$.
Now consider $(B)$ moving to $(k-1)$ (joining $(A)$). After the move, at vertex $(k-1)$ there are two players (new $(B)$ and $(A)$), and $(C)$ remains at $(k+1)$. For every vertex in $(1,\dots,k-1)$, the closest players are exactly these two (or at worst include them), so $(B)$ can guarantee at least half of $(A)$'s former territory:
$$
P'(B)\ \ge\ \frac{1}{2}P(A)\ \ge\ \frac{S}{6}.
$$
But also $(B)$ may pick up additional shared mass from the boundary vertex $(k)$ (and potentially from $(k+1)$ depending on ties), so in fact $P'(B)$ is strictly larger than $\frac{1}{2}P(A)$ unless weights are degenerate in a way that cannot occur for a permutation when $n\ge7$. This yields a strict improvement over $P(B)=w(k)\le n$, contradicting stability (the original solution formalizes this via an averaging argument: if either side is “too big”, the middle player can move one step and capture a strictly better expected share).
Thus Case 3 cannot be stable for $n\ge7$.

Conclusion for the “no” direction
All possible packed configurations lead to a profitable unilateral deviation when $n\ge7$. Hence:
$$
\boxed{\text{For }n\ge7,\ \text{no permutation admits a stable state.}}
$$
So if a stable state exists for some permutation, we must have $n\le6$.

4) Existence for $(2 \le n \le 6)$ (explicit constructions)
We now provide, for each $n=2,3,4,5,6$, one permutation $(w)$ and one location profile that is stable.
(n=2)
Weights: $(w(1),w(2))=(1,2)$.
Locations: $(x_A,x_B,x_C)=(1,2,2)$.
Payoffs: $P(A)=1$, $P(B)=P(C)=1$.
Any move gives at most $1$ (easy check), so stable.

(n=3)
Weights: $(w(1),w(2),w(3))=(1,3,2)$.
Locations: $(x_A,x_B,x_C)=(2,2,2)$.
Each gets $6/3=2$.
A move to 1 yields $P'(A)=1$; a move to 3 yields $P'(A)=2$. No strict improvement.

(n=4)
Weights: $(w(1),w(2),w(3),w(4))=(1,4,2,3)$.
Locations: $(x_A,x_B,x_C)=(2,2,3)$.
Compute allocation: vertices 1,2 are split between the two at 2; vertices 3,4 go to the player at 3.
Payoffs: $P(A)=P(B)=(1+4)/2=2.5$, $P(C)=2+3=5$.
One checks each possible unilateral move does not strictly increase payoff (notably, moving onto the other player only creates splitting and loses guaranteed mass).

(n=5)
Weights: $(w(1),w(2),w(3),w(4),w(5))=(1,2,5,4,3)$.
Locations: $(x_A,x_B,x_C)=(3,3,4)$.
Payoffs: $P(A)=P(B)=(1+2+5)/2=4$, $P(C)=4+3=7$.
Unilateral moves either (i) trade a secure half of a large block for a smaller endpoint, or (ii) create extra splitting on the large weights. Direct verification shows no strict improvement.

(n=6)
Weights: $(w(1),w(2),w(3),w(4),w(5),w(6))=(1,2,5,6,3,4)$.
Locations: $(x_A,x_B,x_C)=(3,4,5)$.
Allocation is clean (no ties):

$A$ gets vertices $(1,2,3)$: payoff $1+2+5=8$.
$B$ gets vertex $4$: payoff $6$.
$C$ gets vertices $(5,6)$: payoff $3+4=7$.

Now check key deviations:

$A \to 4$: becomes tied at 4 and loses exclusivity on $(1,2,3)$, payoff drops to $(1+2+5+6)/2=7<8$.
$B \to 5$: gets $w(4)/3 + (w(5)+w(6))/2 = 6/3 + 7/2 = 2+3.5=5.5<6$.
$C \to 4$: payoff $(6+3+4)/2=6.5<7$.

Other moves are even worse by distance monotonicity. Hence stable.
Therefore stable states do exist for all $2 \le n \le 6$.

5) Final answer
Combining nonexistence for $n\ge 7$ with explicit existence for $2 \le n \le 6$, we obtain:
There exists a weight assignment admitting a stable state iff $2 \le n \le 6$.

## 答案
$$2\ge n \le 6$$
