---
id: 259
title: The Minimum Cardinality for Monochromatic Coincidence
question_type: 数学
domain: 高中数学竞赛组合
difficulty: 中学
knowledge_point: Combinatorial Design: Understanding structures within finite sets.
The Pigeonhole Principle (Dirichlet's Box Principle): Specifically, the generalized version applied to pairs.
Jensen's Inequality / Convexity: Used to determine the minimum number of pairs generated within a single function (column) to establish the worst-case scenario.
Bipartite Graph Theory (Implicit): The problem is isomorphic to finding the Turán number for a specific subgraph in a bipartite setting (related to the Zarankiewicz problem).
batch: 01_第一批100题
teacher: xieshuhong
---

## 题目
Definition: Let $n$ be a fixed positive integer. Consider a domain set $X$ with cardinality $|X| = 2n$ and a codomain set $Y$ with cardinality $|Y| = n$. Let $\mathcal{F}$ be a family of $k$ functions, where each function $f \in \mathcal{F}$ maps $X$ to $Y$.

We define a Bi-local Isospectral Match to be a configuration consisting of two distinct functions $f, g \in \mathcal{F}$ and two distinct elements $x_1, x_2 \in X$ such that:
$$
f(x_1) = f(x_2) = g(x_1) = g(x_2)
$$

Question: Determine the smallest positive integer $k$ such that, for any arbitrary construction of the family $\mathcal{F}$, the existence of at least one Bi-local Isospectral Match is guaranteed.

## 解答
Logical derivation:

The set $X$ (size $2n$) corresponds to the rows of the grid.
The family $\mathcal{F}$ (size $k$) corresponds to the columns.
The codomain $Y$ (size $n$) corresponds to the colors.
The condition $f(x_1) = f(x_2) = g(x_1) = g(x_2) = y$ is exactly the condition for a monochromatic rectangle (color $y$ at intersections of rows $x_1, x_2$ and columns $f, g$).

Counting Pairs (Convexity):

For a single function $f$, we map $2n$ elements to $n$ values.
To minimize the number of "same-value pairs" within one function, we distribute the values as evenly as possible.
$2n$ elements into $n$ values $\implies$ each value appears exactly 2 times.
The number of pairs mapping to the same value in one function is $\sum_{y \in Y} \binom{count(y)}{2}$. Minimal case: $n \times \binom{2}{2} = n$ pairs.
Therefore, each function contributes at least $n$ pairs of the form $(x_a, x_b) \mid f(x_a)=f(x_b)$.

Applying Pigeonhole Principle:

Total pairs generated by $k$ functions is at least $k \times n$.
The "pigeonholes" are the possible combinations of (pair of elements in $X$, specific value in $Y$).
Number of pairs in $X$: $\binom{2n}{2} = n(2n-1)$.
Number of values in $Y$: $n$.
Total pigeonholes: $n \times n(2n-1) = n^2(2n-1)$.
To guarantee a collision (two functions sharing the same pair with the same value), we need:
$$ \text{Total Pairs} > \text{Total Pigeonholes} $$
$$ kn > n^2(2n-1) $$
$$ k > n(2n-1) $$
$$ k > 2n^2 - n $$
Thus, the minimum integer $k$ is $2n^2 - n + 1$.

## 答案
$$2n^2-n+1$$
